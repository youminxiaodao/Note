## MySQL引起的并发问题

1.脏读：对于两个事务T1,T2，T1读取了已经被T2更新但还没被提交的字段，之后，若T2回滚，T1读取的内容就是临时无效的；

2.不可重复读：对于两个事务T1,T2，T1读取了一个字段，然后T2更新了该字段，之后，T1再次读取同一个字段，值就不同了；

3.幻读：对于两个事务T1,T2，T1从一个表中读取了一个字段，然后T2在该表中插入了一些新的行，之后，如果T1再次读取同一个表，就会多出几行.

通过事务的隔离级别，可以解决以上问题.

![image-20210322110131729](C:\Develop\Git\Note\images\image-20210322110131729.png)

## 索引的数据结构

B+树

## B+树原理

## B+树叶子节点使用双向指针的原因

为了支持范围查找，不然每次都要从根节点遍历

## 索引为什么不使用Hash算法

不支持范围查找

## 聚集索引/聚树索引、稀疏索引/非聚集索引

聚集：索引和数据存储在一起 Innor DB

非聚集：索引和数据分开存放 MyISAM DB

## MySQL自动生成一个主键(Innor DB)

## 分区表

## MySQL MVCC机制



